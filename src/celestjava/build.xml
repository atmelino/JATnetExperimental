<?xml version = '1.0' encoding = 'windows-1252'?>

<!--Ant buildfile generated by Oracle9i JDeveloper-->
<!--Generated Nov 30, 2003 9:26:39 AM-->
<project name="DataUtil" default="make" basedir=".">

   <!--Set the JDeveloper home directory-->
   <property name="jdev.home" value="D:\JDev905.preview"/>

   <!--Set the output directories-->
   <property name="compile.outdir" value="classes"/>
   <property name="javadoc.outdir" value="javadoc"/>
   <property name="jarfile.outdir" value="jar"/>
   <property name="backup.outdir" value="backup"/>

   <!--Set the classpath-->
   <path id="classpath">
      <pathelement location="${jdev.home}/jdk/jre/lib/rt.jar"/>
      <pathelement location="${jdev.home}/jdk/jre/lib/i18n.jar"/>
      <pathelement location="${jdev.home}/jdk/jre/lib/sunrsasign.jar"/>
      <pathelement location="${jdev.home}/jdk/jre/lib/jsse.jar"/>
      <pathelement location="${jdev.home}/jdk/jre/lib/jce.jar"/>
      <pathelement location="${jdev.home}/jdk/jre/lib/charsets.jar"/>
      <pathelement location="${jdev.home}/jdk/jre/classes"/>
      <pathelement location="${compile.outdir}"/>
      <pathelement location="${jdev.home}/jdev/lib/jdev-rt.jar"/>
   </path>

   <!--Set the source path-->
   <property name="src.dir" value="src"/>
   <path id="srcpath">
      <pathelement location="${src.dir}"/>
   </path>

   <target name="init">
      <tstamp/>
   </target>

   <target name="compile" depends="init">
      <mkdir dir="${compile.outdir}"/>
      <!--Compile Java source files-->
      <javac destdir="${compile.outdir}" debug="on" encoding="Cp1252">
         <classpath refid="classpath"/>
         <src refid="srcpath"/>
         <include name="astro/runtime/ui/panels/OutputPanel.java"/>
         <include name="astro/runtime/ui/panels/InputPanel.java"/>
         <include name="astro/runtime/ui/panels/DatePanel.java"/>
         <include name="astro/runtime/ui/AppFrame.java"/>
         <include name="astro/runtime/ui/AstroGUI.java"/>
         <include name="user/util/TimeUtil.java"/>
         <include name="astro/calc/Point.java"/>
         <include name="astro/calc/OrthoWayPoint.java"/>
         <include name="astro/calc/Ortho.java"/>
         <include name="astro/calc/DeadReckoning.java"/>
         <include name="user/util/StaticUtil.java"/>
         <include name="main/DeadReckoningMain.java"/>
         <include name="user/util/GeomUtil.java"/>
         <include name="astro/runtime/DataPublisher.java"/>
         <include name="main/Main.java"/>
         <include name="astro/data/Data.java"/>
         <include name="astro/data/ephemerides/CelestialComputer.java"/>
      </javac>
   </target>

   <target name="mkjar" depends="compile">
     <mkdir dir="${basedir}/${jarfile.outdir}"/>
     <jar jarfile="${basedir}/${jarfile.outdir}/CoreFeatures.jar"
          basedir="${basedir}/classes"
          includes="astro/data/**"/>
     <jar jarfile="${basedir}/${jarfile.outdir}/DeadReckoning.jar"
          basedir="${basedir}/classes"
          includes="astro/calc/**"/>
     <jar jarfile="${basedir}/${jarfile.outdir}/CelestialComputer.jar"
          basedir="${basedir}/classes"
          includes="**"/>
     <echo message="jar-files are ready to use"/>
   </target>

   <target name="srcbackup">
     <tstamp>
       <format property="date.value" pattern="MMMM_d_yyyy_hh_mm_aa"/>
     </tstamp>
     <mkdir dir="${backup.outdir}"/>
     <property name="file.name" value="${backup.outdir}/${date.value}_src.zip"/>
     <zip zipfile="${file.name}"
          basedir="${src.dir}">
       <exclude name="**/*.zip"/>
       <exclude name="**/*.jar"/>
       <exclude name="**/*.bak"/>
       <exclude name="**/*.~*"/>
     </zip>
     <!--copy file="${file.name}" tofile="${backup.outdir}/src.zip"/-->
   </target>
   
   <target name="doc" depends="init">
      <mkdir dir="${javadoc.outdir}"/>
      <!--Create Javadoc-->
      <javadoc sourcepathref="srcpath" classpathref="classpath" destdir="${javadoc.outdir}" version="false" author="false" encoding="Cp1252" additionalparam="-J-Xmx32m">
         <package name="astro.runtime.ui.panels"/>
         <package name="astro.runtime.ui"/>
         <package name="user.util"/>
         <package name="astro.calc"/>
         <package name="main"/>
         <package name="astro.runtime"/>
         <package name="astro.data"/>
         <package name="astro.data.ephemerides"/>
      </javadoc>
   </target>

   <target name="clean">
      <!--Delete output directories-->
      <delete dir="${compile.outdir}"/>
      <delete dir="${javadoc.outdir}"/>
      <delete dir="${jarfile.outdir}"/>
   </target>

   <target name="make" depends="compile"/>

   <target name="rebuild" depends="clean,compile"/>

   <target name="all" depends="compile,doc,mkjar"/>

</project>
